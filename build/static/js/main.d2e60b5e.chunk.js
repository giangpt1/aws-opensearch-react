(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{17:function(e,t,c){},19:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(6),a=(c(17),c(4)),s=c(7),u=c(2),o=c(8),i=c(0),d=function(e){var t=e.results,c=e.keyword,r=[];t.forEach((function(e){var t,n=e._source.products,a=Object(o.a)(n);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.product_name.toLowerCase().includes(c)&&r.push(s)}}catch(u){a.e(u)}finally{a.f()}}));var n,a=(n="category",r.reduce((function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e}),{}));return console.log("groupedData: ",a),Object(i.jsx)("div",{children:Object.entries(a).map((function(e){var t=Object(u.a)(e,2),c=t[0],r=t[1];return Object(i.jsx)("div",{className:"product",children:Object(i.jsxs)("section",{className:"product__info",children:[Object(i.jsx)("div",{className:"product__title",children:c}),r.map((function(e){return Object(i.jsxs)("div",{className:"product__desc",children:["Product Name: ",e.product_name," ---*--- ID: ",e._id]})}))]})},c)}))})},j=function(e){var t=e.handleOnChange;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("input",{type:"text",onChange:t,placeholder:"Search your product here"})})},h=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),c=t[0],n=t[1],o=Object(r.useState)([]),h=Object(u.a)(o,2),p=h[0],l=h[1],b=Object(r.useDeferredValue)(c);Object(r.useEffect)((function(){""!==b?O(b).then((function(e){l(e)})):l([])}),[b]);var O=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://8ky35k70oc.execute-api.ap-northeast-1.amazonaws.com/products?keyword=".concat(t),{headers:{"x-api-key":"YHTdXURDcXamPN8x5vBTT2gljyI6umrR2rjISE5m"}}).then((function(e){return e.json()})).then((function(e){return e.hits.hits})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"products",children:[Object(i.jsx)("h1",{children:"Products"}),Object(i.jsx)(j,{handleOnChange:function(e){n(e.target.value)}}),Object(i.jsx)(d,{results:p,keyword:c})]})};var p=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(h,{})})},l=document.getElementById("root");Object(n.createRoot)(l).render(Object(i.jsx)(r.StrictMode,{children:Object(i.jsx)(p,{})}))}},[[19,1,2]]]);
//# sourceMappingURL=main.d2e60b5e.chunk.js.map